{"ast":null,"code":"import { createSlice, current } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  currentKanji: {\n    id: 0,\n    character: \"\",\n    url: \"\",\n    level: 0,\n    meanings: [],\n    similarIds: []\n  },\n  currentSimilarKanji: [],\n  answered: false,\n  correct: null,\n  validKanji: []\n};\nconst questionSlice = createSlice({\n  name: \"question\",\n  initialState,\n  reducers: {\n    setCurrentKanji: (state, action) => {\n      state.currentKanji = action.payload;\n    },\n    setSimilarKanji: (state, action) => {\n      state.currentSimilarKanji = action.payload;\n    },\n    setAnswered: (state, action) => {\n      state.answered = action.payload;\n    },\n    setCorrect: (state, action) => {\n      state.correct = action.payload;\n    },\n    setValidKanji: (state, action) => {\n      if (current(state).validKanji.length === 0) {\n        state.validKanji = action.payload;\n      } else {\n        state.validKanji = [...current(state).validKanji, action.payload];\n      }\n    },\n    removeValidKanji: (state, action) => {\n      const index = action.payload;\n      state.validKanji = state.validKanji.splice(index, 1);\n    }\n  }\n});\nexport const {\n  setCurrentKanji,\n  setSimilarKanji,\n  setAnswered,\n  setCorrect,\n  setValidKanji,\n  removeValidKanji\n} = questionSlice.actions;\nexport const getSimilarKanji = similarIds => {\n  var _s = $RefreshSig$();\n  return _s(async (dispatch, useState) => {\n    _s();\n    const apiKey = useState().user.apiKey;\n    let ids = [...similarIds]; // copy array\n\n    if (ids.length > 3) {\n      ids.sort(() => Math.random() - 0.5); // randomize array\n      ids = ids.slice(0, 3); // take first 3 elements\n    }\n    const getSimilarKanji = async id => {\n      await axios.get(`https://api.wanikani.com/v2/subjects/${id}`, {\n        headers: {\n          Authorization: `Bearer ${apiKey}`\n        }\n      }).then(res => {\n        console.log(res.data);\n        dispatch(setSimilarKanji({\n          id: res.data.id,\n          character: res.data.data.characters,\n          url: res.data.data.document_url,\n          level: res.data.data.level,\n          meanings: res.data.data.meanings.map(meaning => meaning.meaning),\n          similarIds: res.data.data.visually_similar_subject_ids\n        }));\n      });\n    };\n    ids.forEach(id => {\n      getSimilarKanji(id);\n    });\n  }, \"VhlnxxH3xh7Qs17KADUJ8wvRSZs=\");\n};\nexport const pickKanji = () => {\n  var _s2 = $RefreshSig$();\n  return _s2(async (dispatch, useState) => {\n    _s2();\n    const validKanji = useState().question.validKanji;\n    const currentKanjiIndex = Math.floor(Math.random() * validKanji.length);\n    dispatch(setCurrentKanji(validKanji[currentKanjiIndex]));\n    dispatch(removeValidKanji(currentKanjiIndex));\n    dispatch(getSimilarKanji(validKanji[currentKanjiIndex].similarIds));\n  }, \"VhlnxxH3xh7Qs17KADUJ8wvRSZs=\");\n};\nexport const initStudyByLevel = selectedLevels => {\n  var _s3 = $RefreshSig$();\n  return _s3(async (dispatch, useState) => {\n    _s3();\n    const apiKey = useState().user.apiKey;\n\n    // recursively fetch all pages of kanji ids\n    const fetchIds = async url => {\n      if (url) {\n        await axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${apiKey}`\n          }\n        }).then(res => {\n          console.log(\"fetched:\", res.data);\n          dispatch(setValidKanji(res.data.data.filter(kanji => kanji.data.visually_similar_subject_ids.length > 1).map(kanji => {\n            return {\n              id: kanji.id,\n              character: kanji.data.characters,\n              url: kanji.url,\n              level: kanji.data.level,\n              meanings: kanji.data.meanings.map(meaning => meaning.meaning),\n              similarIds: kanji.data.visually_similar_subject_ids\n            };\n          })));\n          if (res.data.total_count > res.data.pages.per_page && res.data.pages.next_url) {\n            console.log(\"fetching next page\");\n            fetchIds(res.data.pages.next_url);\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n    await fetchIds(`https://api.wanikani.com/v2/subjects?types=kanji&started=true&levels=${selectedLevels}`);\n    dispatch(pickKanji());\n  }, \"VhlnxxH3xh7Qs17KADUJ8wvRSZs=\");\n};\nexport const initStudyBySrs = selectedStage => {\n  var _s4 = $RefreshSig$();\n  return _s4(async (dispatch, useState) => {\n    _s4();\n    const apiKey = useState().user.apiKey;\n    // recursively fetch all pages of kanji ids\n    const fetchIds = async url => {\n      if (url) {\n        await axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${apiKey}`\n          }\n        }).then(res => {\n          console.log(\"fetched:\", res.data);\n          dispatch(setValidKanji(res.data.data.filter(kanji => kanji.data.subject_type === \"kanji\").map(kanji => kanji.data.subject_id)));\n          if (res.data.total_count > res.data.pages.per_page && res.data.pages.next_url) {\n            console.log(\"fetching next page\");\n            fetchIds(res.data.pages.next_url);\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n    await fetchIds(`https://api.wanikani.com/v2/assignments?srs_stages=${selectedStage}`);\n    dispatch(pickKanji());\n  }, \"VhlnxxH3xh7Qs17KADUJ8wvRSZs=\");\n};\nexport default questionSlice.reducer;\n// holds selected kanji, possible answers, answer, etc","map":{"version":3,"names":["createSlice","current","axios","initialState","currentKanji","id","character","url","level","meanings","similarIds","currentSimilarKanji","answered","correct","validKanji","questionSlice","name","reducers","setCurrentKanji","state","action","payload","setSimilarKanji","setAnswered","setCorrect","setValidKanji","length","removeValidKanji","index","splice","actions","getSimilarKanji","_s","$RefreshSig$","dispatch","useState","apiKey","user","ids","sort","Math","random","slice","get","headers","Authorization","then","res","console","log","data","characters","document_url","map","meaning","visually_similar_subject_ids","forEach","pickKanji","_s2","question","currentKanjiIndex","floor","initStudyByLevel","selectedLevels","_s3","fetchIds","filter","kanji","total_count","pages","per_page","next_url","catch","err","initStudyBySrs","selectedStage","_s4","subject_type","subject_id","reducer"],"sources":["/Users/smanor/Development/code/personal/wk-similar/src/reducers/QuestionReducer.ts"],"sourcesContent":["import { createSlice, current } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\ninterface KanjiSubjectData {\n  data: {\n    amalgamation_subject_ids: number[];\n    auxiliary_meanings: [\n      {\n        meaning: string;\n        type: string;\n      }\n    ];\n    characters: string;\n    component_subject_ids: number[];\n    created_at: string | null;\n    document_url: string;\n    hidden_at: string | null;\n    lesson_position: number;\n    level: number;\n    meaning_hint: string;\n    meaning_mnemonic: string;\n    meanings: [\n      {\n        meaning: string;\n        primary: boolean;\n        accepted_answer: boolean;\n      }\n    ];\n    reading_hint: string;\n    reading_mnemonic: string;\n    readings: [\n      {\n        reading: string;\n        primary: boolean;\n        accepted_answer: boolean;\n        type: string;\n      }\n    ];\n    slug: string;\n    visually_similar_subject_ids: number[];\n  };\n  data_updated_at: string;\n  id: number;\n  object: \"kanji\";\n  url: string;\n}\n\ninterface KanjiAssignmentData {\n  data: {\n    available_at: string | null;\n    burned_at: string | null;\n    created_at: string;\n    hidden: boolean;\n    passed_at: string | null;\n    resurrected_at: string | null;\n    srs_stage: number;\n    started_at: string;\n    subject_id: number;\n    subject_type: string;\n    unlocked_at: string | null;\n  };\n  data_updated_at: string;\n  id: number;\n  object: \"assignment\";\n  url: string;\n}\n\nexport interface Kanji {\n  id: number;\n  character: string;\n  url: string;\n  level: number;\n  meanings: string[];\n  similarIds: number[];\n}\n\ninterface QuestionState {\n  currentKanji: Kanji;\n  currentSimilarKanji: Kanji[];\n  answered: boolean;\n  correct: boolean | null;\n  validKanji: Kanji[] | number[]; // kanji[] if level mode, number[] if srs mode\n}\n\nconst initialState: QuestionState = {\n  currentKanji: {\n    id: 0,\n    character: \"\",\n    url: \"\",\n    level: 0,\n    meanings: [],\n    similarIds: [],\n  },\n  currentSimilarKanji: [],\n  answered: false,\n  correct: null,\n  validKanji: [],\n};\n\nconst questionSlice = createSlice({\n  name: \"question\",\n  initialState,\n  reducers: {\n    setCurrentKanji: (state, action) => {\n      state.currentKanji = action.payload;\n    },\n    setSimilarKanji: (state, action) => {\n      state.currentSimilarKanji = action.payload;\n    },\n    setAnswered: (state, action) => {\n      state.answered = action.payload;\n    },\n    setCorrect: (state, action) => {\n      state.correct = action.payload;\n    },\n    setValidKanji: (state, action) => {\n      if (current(state).validKanji.length === 0) {\n        state.validKanji = action.payload;\n      } else {\n        state.validKanji = [...current(state).validKanji, action.payload];\n      }\n    },\n    removeValidKanji: (state, action) => {\n      const index = action.payload;\n      state.validKanji = state.validKanji.splice(index, 1);\n    },\n  },\n});\n\nexport const {\n  setCurrentKanji,\n  setSimilarKanji,\n  setAnswered,\n  setCorrect,\n  setValidKanji,\n  removeValidKanji,\n} = questionSlice.actions;\n\nexport const getSimilarKanji = (similarIds: number[]) => {\n  return async (dispatch: any, useState: any) => {\n    const apiKey = useState().user.apiKey;\n    let ids = [...similarIds]; // copy array\n\n    if (ids.length > 3) {\n      ids.sort(() => Math.random() - 0.5); // randomize array\n      ids = ids.slice(0, 3); // take first 3 elements\n    }\n\n    const getSimilarKanji = async (id: number) => {\n      await axios\n        .get(`https://api.wanikani.com/v2/subjects/${id}`, {\n          headers: {\n            Authorization: `Bearer ${apiKey}`,\n          },\n        })\n        .then((res) => {\n          console.log(res.data);\n          dispatch(\n            setSimilarKanji({\n              id: res.data.id,\n              character: res.data.data.characters,\n              url: res.data.data.document_url,\n              level: res.data.data.level,\n              meanings: res.data.data.meanings.map(\n                (meaning: { meaning: string }) => meaning.meaning\n              ),\n              similarIds: res.data.data.visually_similar_subject_ids,\n            })\n          );\n        });\n    };\n\n    ids.forEach((id) => {\n      getSimilarKanji(id);\n    });\n  };\n};\n\nexport const pickKanji = () => {\n  return async (dispatch: any, useState: any) => {\n    const validKanji = useState().question.validKanji;\n    const currentKanjiIndex = Math.floor(Math.random() * validKanji.length);\n\n    dispatch(setCurrentKanji(validKanji[currentKanjiIndex]));\n    dispatch(removeValidKanji(currentKanjiIndex));\n\n    dispatch(getSimilarKanji(validKanji[currentKanjiIndex].similarIds));\n  };\n};\n\nexport const initStudyByLevel = (selectedLevels: string) => {\n  return async (dispatch: any, useState: any) => {\n    const apiKey = useState().user.apiKey;\n\n    // recursively fetch all pages of kanji ids\n    const fetchIds = async (url: string | null) => {\n      if (url) {\n        await axios\n          .get(url, {\n            headers: {\n              Authorization: `Bearer ${apiKey}`,\n            },\n          })\n          .then((res) => {\n            console.log(\"fetched:\", res.data);\n\n            dispatch(\n              setValidKanji(\n                res.data.data\n                  .filter(\n                    (kanji: KanjiSubjectData) =>\n                      kanji.data.visually_similar_subject_ids.length > 1\n                  )\n                  .map((kanji: KanjiSubjectData) => {\n                    return {\n                      id: kanji.id,\n                      character: kanji.data.characters,\n                      url: kanji.url,\n                      level: kanji.data.level,\n                      meanings: kanji.data.meanings.map(\n                        (meaning) => meaning.meaning\n                      ),\n                      similarIds: kanji.data.visually_similar_subject_ids,\n                    };\n                  })\n              )\n            );\n\n            if (\n              res.data.total_count > res.data.pages.per_page &&\n              res.data.pages.next_url\n            ) {\n              console.log(\"fetching next page\");\n              fetchIds(res.data.pages.next_url);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    };\n\n    await fetchIds(\n      `https://api.wanikani.com/v2/subjects?types=kanji&started=true&levels=${selectedLevels}`\n    );\n\n    dispatch(pickKanji());\n  };\n};\n\nexport const initStudyBySrs = (selectedStage: string) => {\n  return async (dispatch: any, useState: any) => {\n    const apiKey = useState().user.apiKey;\n    // recursively fetch all pages of kanji ids\n    const fetchIds = async (url: string | null) => {\n      if (url) {\n        await axios\n          .get(url, {\n            headers: {\n              Authorization: `Bearer ${apiKey}`,\n            },\n          })\n          .then((res) => {\n            console.log(\"fetched:\", res.data);\n\n            dispatch(\n              setValidKanji(\n                res.data.data\n                  .filter(\n                    (kanji: KanjiAssignmentData) =>\n                      kanji.data.subject_type === \"kanji\"\n                  )\n                  .map((kanji: KanjiAssignmentData) => kanji.data.subject_id)\n              )\n            );\n\n            if (\n              res.data.total_count > res.data.pages.per_page &&\n              res.data.pages.next_url\n            ) {\n              console.log(\"fetching next page\");\n              fetchIds(res.data.pages.next_url);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    };\n    await fetchIds(\n      `https://api.wanikani.com/v2/assignments?srs_stages=${selectedStage}`\n    );\n\n    dispatch(pickKanji());\n  };\n};\n\nexport default questionSlice.reducer;\n// holds selected kanji, possible answers, answer, etc\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}